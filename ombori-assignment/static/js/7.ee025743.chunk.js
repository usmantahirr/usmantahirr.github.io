(this["webpackJsonpreact-code-test"]=this["webpackJsonpreact-code-test"]||[]).push([[7],{188:function(e,t,n){"use strict";var a=n(49),r=n(0),c=n.n(r),s=n(368),o=n(289),u=n(290),i=n(50),p=n(5);function l(){var e=Object(a.a)(["\n  background: ",";\n\n  span {\n    color: ",";\n    font-weight: 600;\n    font-size: 1.5rem;\n  }\n"]);return l=function(){return e},e}var f=Object(i.a)(s.a)(l(),p.a.PRIMARY,p.a.TEXT_LIGHT);t.a=function(e){var t=e.title,n=e.back,a=e.children;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{title:t,onBack:n}),c.a.createElement(o.a,null,c.a.createElement(u.a,{span:24},a)))}},205:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return j}));var a=n(177),r=n.n(a),c=n(178),s=n(53),o=n(40),u=n(216),i=n.n(u),p=n(23),l=n(365),f=function(e){var t,n,a=e.message;if(e.response&&e.response.data&&((t=e.response.data).code&&(n=t.code),t.errors&&t.errors.length)){var r=t.errors[0],c=r.title,s=r.description;a="".concat(c,": ").concat(s)}return{data:t&&t.errors?t.errors:t,error:e,fail:!0,message:a,statusCode:e.code||n||Object(l.a)(e,"response.status")}},d=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.message,!t||403!==Object(l.a)(t,"status")&&403!==Object(l.a)(t,"response.status")||(n="You're UnAuthorized, check login or user privileges"),!t||404!==Object(l.a)(t,"status")&&404!==Object(l.a)(t,"response.status")||(n="Not Found"),t&&503===(503===Object(l.a)(t,"status")||Object(l.a)(t,"response.status"))&&(n="Internal Server Error"),!t){e.next=7;break}throw t.message=n,f(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function h(e){var t=Object(l.a)(e,"data"),n={page:t.page,total:t.total,total_pages:t.total_pages,per_page:t.per_page};return Object(p.a)({},e,{data:e.data.data,pageDetails:n})}var b=function(e){return"".concat("users","/").concat(e)},v="application/json",m=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{contentType:v}};Object(s.a)(this,e),this.config={},this.instance=null,this.config={baseURL:t.baseURL||"https://reqres.in/api/",headers:{"Content-Type":t.headers.contentType||v},timeout:3e3},this.instance=i.a.create(this.config),this.instance.interceptors.response.use(h,d)}return Object(o.a)(e,[{key:"get",value:function(e,t,n){var a=e;return t&&(a+="/".concat(t)),this.instance.get(a,{params:n})}},{key:"post",value:function(e,t){return this.instance.post(e,t)}},{key:"delete",value:function(e,t){return this.instance.delete("".concat(e,"/").concat(t))}},{key:"put",value:function(e,t,n){var a=e;return n&&(a+="/".concat(n)),this.instance.put(a,t)}},{key:"patch",value:function(e,t){return this.instance.patch(e,t)}}]),e}()),g=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.get("users",void 0,t).then((function(e){return e}),(function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.get(b(t)).then((function(e){return e}),(function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.delete("users",t).then((function(e){return e}),(function(e){throw e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},371:function(e,t,n){"use strict";n.r(t);var a=n(362),r=n(177),c=n.n(r),s=n(178),o=n(13),u=n(0),i=n.n(u),p=n(188),l=n(205),f=n(54),d=n(24),h=n(49),b=n(366),v=n(364),m=n(288),g=n(326),O=n(369),j=n(50),k=n(25),E=n(308),w=n.n(E);function x(){var e=Object(h.a)(["\n  margin: 10px 20px;\n"]);return x=function(){return e},e}var y=Object(j.a)(b.a)(x()),_=function(e){var t=e.users,n=e.loading,a=e.hasMore,r=e.handleInfiniteOnLoad,c=e.handleDelete;return i.a.createElement(w.a,{initialLoad:!1,pageStart:0,hasMore:a,loadMore:r},i.a.createElement(y,{loading:n,itemLayout:"horizontal",dataSource:t,renderItem:function(e){return i.a.createElement(b.a.Item,{actions:[i.a.createElement(v.a,{title:"Are you sure",onConfirm:function(){c(e.id)}},i.a.createElement("a",{href:"#"},"delete")),i.a.createElement(k.b,{to:"/".concat(e.id)},"more")]},i.a.createElement(b.a.Item.Meta,{avatar:i.a.createElement(m.a,{src:e.avatar}),title:i.a.createElement(k.b,{to:"/".concat(e.id)},"".concat(e.first_name," ").concat(e.last_name)),description:e.email}))}},n&&a&&i.a.createElement("div",{className:"demo-loading-container"},i.a.createElement(g.a,null)),!a&&i.a.createElement(O.a,{message:"Loaded All",type:"info"})))};t.default=function(){var e=Object(u.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],h=Object(u.useState)([]),b=Object(o.a)(h,2),v=b[0],m=b[1],g=Object(u.useState)({page:1,total:0,total_pages:0,per_page:10}),O=Object(o.a)(g,2),j=O[0],k=O[1],E=Object(u.useState)(!0),w=Object(o.a)(E,2),x=w[0],y=w[1],I=Object(u.useContext)(f.b),L=Object(u.useContext)(d.b);Object(u.useEffect)((function(){function e(){return(e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,Object(l.b)(j);case 4:t=e.sent,m(t.data),k(t.pageDetails),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),I.setError(e.t0,!0);case 12:r(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var S=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(v.length>j.per_page)){e.next=4;break}y(!1),e.next=10;break;case 4:return r(!0),e.next=7,Object(l.b)(j);case 7:t=e.sent,m(v.concat(t.data)),r(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,Object(l.a)(t);case 4:(n=v.findIndex((function(e){return e.id===t})))>-1&&(s=Object(a.a)(v),o=s.splice(n,1),m(s),r(!1),L.setNotification({type:"success",message:"".concat(o[0].first_name," ").concat(o[0].last_name," deleted")},!0)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),I.setError(e.t0),r(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(p.a,{title:"Users"},i.a.createElement(_,{users:v,loading:n,hasMore:x,handleInfiniteOnLoad:S,handleDelete:M}))}}}]);
//# sourceMappingURL=7.ee025743.chunk.js.map