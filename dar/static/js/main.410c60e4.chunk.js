(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{101:function(e,t){},107:function(e,t){},110:function(e,t,n){var r={"./en.json":111,"./fr.json":112};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=110},111:function(e){e.exports={title:"My English Site"}},112:function(e){e.exports={title:"My French Site"}},120:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(25),c=n.n(a),i=n(24),s=n(11),u=n.n(s),l=n(19),f=n(6),d=n(4),p=n(27),h=n(2),m=n(30),v=n(29);function g(e){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(u.a.mark(function e(t){var n,r,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,o=new m.a,e.abrupt("return",o.post(v.a,{email:n,password:r}).then(function(e){return e},function(e){throw e}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var j=n(26),w=Object(d.f)(function(e){var t=e.history,n=e.children,a=Object(r.useState)({isAuthenticated:!1,loading:!1}),c=Object(f.a)(a,2),i=c[0],s=c[1],d=Object(r.useContext)(j.b),m=function(){var e=Object(l.a)(u.a.mark(function e(n,r){var o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s({isAuthenticated:!1,loading:!0}),e.prev=1,e.next=4,g({email:n,password:r});case 4:o=e.sent,localStorage.setItem("user",JSON.stringify(o.data)),localStorage.setItem("token",o.data.token),s({isAuthenticated:!0,loading:!1}),t.push(h.c),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),d.setError(e.t0,!0),s({isAuthenticated:!1,loading:!1});case 15:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t,n){return e.apply(this,arguments)}}();return o.a.createElement(p.b,{value:{isAuthenticated:i.isAuthenticated,authenticate:m,logout:function(){localStorage.removeItem("user"),localStorage.removeItem("token"),s({isAuthenticated:!1}),t.push(h.b)},checkAuthentication:function(){return!!localStorage.getItem("user")&&!!localStorage.getItem("token")}}},n)}),O=n(36),E=n(35),y=n(55),k=n.n(y),C=n(56),x=n.n(C),S=o.a.createContext({language:"en",switchLanguage:function(){}});Object(E.b)([].concat(Object(O.a)(k.a),Object(O.a)(x.a)));var A=function(e){var t=e.children,a=Object(r.useState)("en"),c=Object(f.a)(a,2),i=c[0],s=c[1],u=Object(r.useState)({}),l=Object(f.a)(u,2),d=l[0],p=l[1];Object(r.useEffect)(function(){if(i){var e=n(110)("./".concat(i,".json"));p(e)}},[i]);return o.a.createElement(E.a,{locale:"en",messages:d},o.a.createElement(S.Provider,{value:{language:i,switchLanguage:function(e){e&&s(e)}}},t))},N=n(17),R=n(28),I=n(59),z=n(57),P=n(23),T=n(21),W=n(60),F=n(13),U={notification:{type:"",fail:!1,message:"",statusCode:""},setNotification:function(e,t){F.a.info(e,t)}},L=o.a.createContext(U),D=L.Provider,$=(L.Consumer,L),B=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(I.a)(this,Object(z.a)(t).call(this,e))).setError=n.setError.bind(Object(P.a)(n)),n.state={error:{fail:!1,message:"",statusCode:""},applicationError:!1},n}return Object(W.a)(t,e),Object(T.a)(t,null,[{key:"getDerivedStateFromError",value:function(e){return F.a.info("Derived Error",e),{applicationError:!0}}}]),Object(T.a)(t,[{key:"setError",value:function(e,t){t&&(0,this.context.setNotification)(Object(N.a)({},e,{type:"error"}),t);this.setState({error:e})}},{key:"componentDidCatch",value:function(e,t){F.a.info("CDC",e,t)}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.error;return t.applicationError?o.a.createElement("h1",null,"Something went wrong."):o.a.createElement(j.a,{value:{error:n,setError:this.setError}},e)}}]),t}(o.a.Component);B.contextType=$;var J=B,M=n(58),H=n.n(M),_=function(e){var t=e.children,n=Object(r.createRef)(),a=Object(r.useState)({type:"error",fail:!1,message:"",statusCode:""}),c=Object(f.a)(a,2),i=c[0],s=c[1];return o.a.createElement(D,{value:{notification:i,setNotification:function(e,t){t&&n&&n.current&&n.current.addNotification({level:e.type,message:o.a.createElement("div",null,e.statusCode&&o.a.createElement("b",null,e.statusCode,": "),e.message),position:"tc"}),s(Object(N.a)({},e))}}},o.a.createElement(H.a,{ref:n}),t)},Y=n(37),q=[{Component:Object(r.lazy)(function(){return n.e(10).then(n.bind(null,197))}),path:h.b}],G=[{Component:Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,171))}),path:"/console/home"}],K=[{Component:Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(4),n.e(5)]).then(n.bind(null,196))}),path:"/console/cameras"}],Q=[{Component:Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,193))}),path:"/console/explore"}],V=[{Component:Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,194))}),path:"/console/analytics"}],X=[{Component:Object(r.lazy)(function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,195))}),path:"/console/admin/:type?"}],Z=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{textAlign:"center",marginTop:"20vh",textShadow:"2px 2px 0 rgb(255, 86, 0)"}},o.a.createElement("div",{style:{fontSize:"11rem",lineHeight:"1"}},"404"),o.a.createElement("div",{style:{fontSize:"4rem"}},"Not Found")),o.a.createElement("div",{style:{textAlign:"center",marginTop:"5rem"}},o.a.createElement(i.c,{className:"btn btn-info",style:{fontSize:"1.5rem"},to:"/console/home"},"Console Home")))},ee=function(e){var t=e.component,n=Object(Y.a)(e,["component"]),a=Object(r.useContext)(p.a);return o.a.createElement(d.b,Object.assign({},n,{exact:!0,render:function(e){return a.checkAuthentication()?o.a.createElement(t,e):o.a.createElement(d.a,{to:"/"})}}))},te=function(e){return function(t,n){var r=t.Component;return e?o.a.createElement(ee,{exact:!0,key:n,path:t.path,component:r}):o.a.createElement(d.b,{exact:!0,key:n,path:t.path,component:r})}},ne=function(){return o.a.createElement(r.Suspense,{fallback:"loading"},o.a.createElement(d.d,null,q.map(te()),G.map(te(!0)),K.map(te(!0)),Q.map(te(!0)),V.map(te(!0)),X.map(te(!0)),o.a.createElement(d.b,{component:Z})))};var re=function(){return o.a.createElement(A,null,o.a.createElement(_,null,o.a.createElement(J,null,o.a.createElement(i.a,null,o.a.createElement(w,null,o.a.createElement(ne,null))))))},oe=(n(120),n(38)),ae=n(15);oe.b.add(ae.a,ae.c,ae.d,ae.b,ae.f,ae.e);n(123),n(124);var ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ie(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(re,null),document.getElementById("root")),function(){var e=document.getElementById("root");c.a.render(o.a.createElement(re,null),e)}(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");ce?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ie(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ie(t,e)})}}()},13:function(e,t,n){"use strict";var r=n(6),o=n(2),a="\n  color: blue;\n  background: yellow;\n  font-weight: bold;\n  padding: 3px;\n",c="\n  color: red;\n  background: beige;\n  font-weight: bold;\n  border: 1px solid red;\n  padding: 3px;\n",i="\n  color: white;\n  background: red;\n  font-weight: bold;\n  padding: 3px;\n";function s(){var e=(new Error).stack.replace(/^Error\s+/,""),t=e.split("\n")[2],n=e.split("\n")[3];return n&&(n=n.replace(/ http.*$/,"")),t&&(t=t.replace(/ http.*$/,"")),[t=t?t.replace(/ \(.+\)$/,"").substring(6).trim():"",n=n?n.replace(/ \(.+\)$/,"").substring(6).trim():""]}var u={info:function(e){var t=s(),n=Object(r.a)(t,2),c=n[0],i=n[1];if(o.d.enabled&&("error"===o.d.loglevel||"warn"===o.d.loglevel||"info"===o.d.loglevel)){for(var u=arguments.length,l=new Array(u>1?u-1:0),f=1;f<u;f++)l[f-1]=arguments[f];l&&l.length?console.info("%c[INFO] ".concat(i,"/").concat(c),a,e,l):console.info("%c[INFO] ".concat(i,"/").concat(c),a,e)}},warn:function(e){var t=s(),n=Object(r.a)(t,2),a=n[0],i=n[1];if(o.d.enabled&&("error"===o.d.loglevel||"warn"===o.d.loglevel)){for(var u=arguments.length,l=new Array(u>1?u-1:0),f=1;f<u;f++)l[f-1]=arguments[f];l&&l.length?console.info("%c[WARN] ".concat(i,"/").concat(a),c,e,l):console.info("%c[WARN] ".concat(i,"/").concat(a),c,e)}},error:function(e){var t=s(),n=Object(r.a)(t,2),a=n[0],c=n[1];if(o.d.enabled&&"error"===o.d.loglevel){for(var u=arguments.length,l=new Array(u>1?u-1:0),f=1;f<u;f++)l[f-1]=arguments[f];l&&l.length?console.info("%c[ERROR] ".concat(c,"/").concat(a),i,e,l):console.info("%c[ERROR] ".concat(c,"/").concat(a),i,e)}}};t.a=u},2:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return c});var r="https://darvis-admin-api.herokuapp.com/api/",o={enabled:!0,loglevel:"error"},a="/console/home",c="/"},26:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n.n(r),a=n(13),c={error:{fail:!1,message:"",statusCode:""},setError:function(e,t){a.a.info(e,t)}},i=o.a.createContext(c),s=i.Provider;i.Consumer;t.b=i},27:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var r=n(0),o={authenticate:function(e,t){console.log(e,t)},checkAuthentication:function(){return!0},isAuthenticated:!1,logout:function(){}},a=n.n(r).a.createContext(o),c=a.Provider;a.Consumer},29:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return c});var r="auth",o="users",a="license",c="organization"},30:function(e,t,n){"use strict";var r=n(28),o=n(21),a=n(49),c=n.n(a),i=n(17),s=n(126),u=function(e){var t,n,r=e.message;if(e.response&&e.response.data&&((t=e.response.data).code&&(n=t.code),t.errors&&t.errors.length)){var o=t.errors[0],a=o.title,c=o.description;r="".concat(a,": ").concat(c)}return{data:t&&t.errors?t.errors:t,error:e,fail:!0,message:r,statusCode:e.code||n||Object(s.a)(e,"response.status")}},l=function(e){var t=e.message;if(!e||401!==Object(s.a)(e,"status")&&403!==Object(s.a)(e,"status")&&403!==Object(s.a)(e,"response.status")||(t="You're UnAuthorized, check login or user privileges"),!e||404!==Object(s.a)(e,"status")&&404!==Object(s.a)(e,"response.status")||(t="Not Found"),e&&503===(503===Object(s.a)(e,"status")||Object(s.a)(e,"response.status"))&&(t="Internal Server Error"),e)throw e.message=t,u(e)};function f(e){return Object(i.a)({},e)}var d=n(2);n.d(t,"a",function(){return h});var p={json:"application/json",multipart:"multipart/form-data"},h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{contentType:p.json}};Object(r.a)(this,e),this.config={},this.instance=null;var n=window.localStorage.getItem("token");this.config={baseURL:t.baseURL||d.a,headers:{"x-auth-token":n||null,"Content-Type":t.headers.contentType||p.json},timeout:2e4},this.instance=c.a.create(this.config),this.instance.interceptors.response.use(f,l)}return Object(o.a)(e,[{key:"get",value:function(e,t,n){var r=e;return t&&(r+="/".concat(t)),this.instance.get(r,{params:n})}},{key:"post",value:function(e,t){return this.instance.post(e,t)}},{key:"delete",value:function(e,t){return this.instance.delete("".concat(e,"/").concat(t))}},{key:"put",value:function(e,t,n){var r=e;return n&&(r+="/".concat(n)),this.instance.put(r,t)}},{key:"patch",value:function(e,t){return this.instance.patch(e,t)}}]),e}()},53:function(e,t){},64:function(e,t,n){e.exports=n(125)}},[[64,2,3]]]);
//# sourceMappingURL=main.410c60e4.chunk.js.map